(this.webpackJsonpchallenge_shoppies=this.webpackJsonpchallenge_shoppies||[]).push([[0],{18:function(e,t,a){e.exports=a(41)},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(12),r=a.n(o),i=a(15),l=a(13),c=a(14),m=a(17),u=a(16),h=a(2),d=a.n(h),_=function(){return s.a.createElement("header",{className:"header"},s.a.createElement("h1",{className:"header__title"},"Shoppies"))},p=function(e){var t;return e.status?s.a.createElement("section",{className:"banner"},s.a.createElement("h3",{className:"banner__heading"},"Nominations complete!"),s.a.createElement("p",{className:"banner__text"},"Thank you for your selections. You may still make changes before finalizing your decision."),s.a.createElement("span",{className:"banner__span"},"Are you sure"," ",s.a.createElement("span",{className:"banner__text banner__text--movie"},"'",(t=["Tropic Thunder","Clue","A Bug's Life","Little Miss Sunshine","Ordinary People","This Is Spinal Tap","Raging Bull","Shawshank Redemption","Dumb and Dumber","Saturday Night Fever","Monty Python and the Holy Grail"])[Math.floor(Math.random()*t.length)],"'")," ","isn't one of your favourite movies?")):null},f=function(e){var t=e.debouncer;return s.a.createElement("section",{className:"search"},s.a.createElement("label",{htmlFor:"search",className:"search__label"},"Movie Title"),s.a.createElement("input",{type:"search",className:"search__input",name:"search",onChange:t(),placeholder:"Search..."}))},N=function(e){var t=e.searchTerm,a=e.searchResults,n=e.addNomination,o=e.disabled,r=a.map((function(e){return e?s.a.createElement("div",{className:"results__result",key:e.id},s.a.createElement("div",{className:"results__text-container"},s.a.createElement("p",{className:"results__text"},e.title," ",s.a.createElement("span",{className:"results__text--year"},"(",e.year,")")),s.a.createElement("p",{className:"results__text results__text--sub"},"Country: ",e.country),s.a.createElement("p",{className:"results__text results__text--sub"},"Genre: ",e.genre)),e.nominated?s.a.createElement("button",{className:"results__button results__button--nominated"},"Nominated!"):s.a.createElement("button",{className:"results__button",onClick:function(){return n(e)},disabled:o},"+ Add Movie")):s.a.createElement("div",{className:"results__result"},s.a.createElement("p",{className:"results__text"},"Loading..."))}));return s.a.createElement("section",{className:"results"},a.length<1?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"results__header-bar"},s.a.createElement("h3",{className:"results__heading"},"Results")),s.a.createElement("div",{className:"results__no-matches-container"},s.a.createElement("p",{className:"results__text"},"No matches"))):s.a.createElement("div",{className:"results__header-bar"},s.a.createElement("h3",{className:"results__heading"},"Results for"," ",s.a.createElement("span",{className:"results__text results__text--search"},'"',t,'"...'))),r)},E=function(e){var t=e.nominations,a=e.removeNomination,n=e.nomCount,o=t.map((function(e){return s.a.createElement("div",{className:"nominations__nom",key:e.id},s.a.createElement("div",{className:"nominations__text-container"},s.a.createElement("p",{className:"nominations__text"},e.title," ",s.a.createElement("span",{className:"nominations__text--year"},"(",e.year,")"))),e.nominated?s.a.createElement("button",{className:"nominations__button",onClick:function(){return a(e)}},"- Remove Movie"):null)}));return s.a.createElement("section",{className:"nominations"},s.a.createElement("div",{className:"nominations__header-bar"},s.a.createElement("h3",{className:"nominations__heading"},"Nominations"),s.a.createElement("p",{className:"nominations__countdown"},s.a.createElement("span",{className:"nominations__countdown nominations__countdown--accent"},n)," ",1===n?"nomination":"nominations"," left")),t.length<1?s.a.createElement("div",{className:"nominations__no-noms-container"},s.a.createElement("div",{className:"nominations__text-container"},s.a.createElement("p",{className:"nominations__text"},"No nominations yet. Search for your favourite movie to get started!"))):o)},g=function(){return s.a.createElement("footer",{className:"footer"},s.a.createElement("div",{className:"footer__left-container"},s.a.createElement("p",{className:"footer__text"},"Application by ",s.a.createElement("br",{className:"footer__break"}),s.a.createElement("span",{className:"footer__text--emph"},"Jess Hilliam"),s.a.createElement("br",null),"for Shopify Internship Winter 2021"),s.a.createElement("div",{className:"footer__contact-links"},s.a.createElement("a",{href:"https://github.com/pupocalypse/shopify_challenge_shoppies",className:"footer__link",target:"_blank"},s.a.createElement("p",{className:"footer__text"},"GitHub"))," ","|"," ",s.a.createElement("a",{href:"https://www.linkedin.com/in/jess-hilliam/",className:"footer__link",target:"_blank"},s.a.createElement("p",{className:"footer__text"},"LinkedIn")))),s.a.createElement("div",{className:"footer__right-container"},s.a.createElement("p",{className:"footer__text"},s.a.createElement("span",{className:"footer__text--emph"},"Jess' Nominations:"),s.a.createElement("br",null),"Ace Ventura: When Nature Calls, A Knight's Tale, Little Miss Sunshine, Up, Zoolander")))},v=(a(40),"http://www.omdbapi.com/?apikey=".concat("a3d02416","&s=")),b="http://www.omdbapi.com?apikey=".concat("a3d02416","&i="),y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={searchTerm:null,searchResults:[],nominations:[],loading:!1,finished:!1},e.debouncer=function(){var t,a;return function(n){t&&clearTimeout(t),a=n.target.value,t=setTimeout((function(){e.search(a),t=null}),1e3)}},e.search=function(t){var a=t;a?d.a.get("".concat(v).concat(a,"&type=movie")).then((function(t){var n;return t.data.Search&&(n=t.data.Search.reduce((function(e,t){var a=d.a.get("".concat(b).concat(t.imdbID));return e.push(a),e}),[])),e.setState({loading:!0,searchTerm:a}),Promise.all(n)})).then((function(t){var a=t.filter((function(e){return!1===e.data.Genre.includes("Short")&&"X"!==e.data.Genre})).map((function(t){var a=e.state.nominations.findIndex((function(e){return e.id===t.data.imdbID})),n={id:t.data.imdbID,title:t.data.Title,year:t.data.Year,country:t.data.Country,genre:t.data.Genre,nominated:!1};return-1!==a&&(n.nominated=!0),n}));e.setState({loading:!1,searchResults:a})})).catch((function(e){return console.log(e)})):e.setState({searchTerm:"",searchResults:[],loading:!1})},e.addNomination=function(t){5!==e.state.nominations.length&&(t.nominated=!0,e.setState({nominations:[].concat(Object(i.a)(e.state.nominations),[t])}))},e.removeNomination=function(t){t.nominated=!1;var a=e.state.searchResults,n=a.findIndex((function(e){return e.title===t.title}));-1!==n&&(a[n].nominated=!1);var s=e.state.nominations.filter((function(e){return e.title!==t.title}));0===s.length&&(s=[]),e.setState({searchResults:a,nominations:s}),localStorage.setItem("nominations",JSON.stringify(s))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("nominations"),t=JSON.parse(e);t&&t.length>0&&this.setState({nominations:t})}},{key:"componentDidUpdate",value:function(e,t){5!==t.nominations.length&&5===this.state.nominations.length&&this.setState({finished:!0});var a=this.state.nominations;localStorage.setItem("nominations",JSON.stringify(a))}},{key:"render",value:function(){var e=5-this.state.nominations.length;return s.a.createElement(s.a.Fragment,null,s.a.createElement(_,null),s.a.createElement("main",{className:"app"},s.a.createElement(p,{status:this.state.finished,nominations:this.state.nominations}),s.a.createElement(f,{search:this.search,debouncer:this.debouncer}),s.a.createElement(N,{searchTerm:this.state.searchTerm,searchResults:this.state.searchResults,addNomination:this.addNomination,disabled:this.state.nominations.length>=5,loading:this.state.loading}),s.a.createElement(E,{nominations:this.state.nominations,removeNomination:this.removeNomination,nomCount:e})),s.a.createElement(g,null))}}]),a}(s.a.Component);r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(y,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.143ff28d.chunk.js.map