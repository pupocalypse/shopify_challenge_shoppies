(this.webpackJsonpchallenge_shoppies=this.webpackJsonpchallenge_shoppies||[]).push([[0],{17:function(e,t,a){e.exports=a(41)},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),s=a.n(l),o=a(16),c=a(2),i=a(5),m=a.n(i),u=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header__title"},"Shoppies"))},d=function(e){var t=e.finished,a=(e.nominations,e.randomMovie);return t?r.a.createElement("section",{className:"banner"},r.a.createElement("h3",{className:"banner__heading"},"Nominations complete!"),r.a.createElement("p",{className:"banner__text"},"Thank you for your selections. You may still make changes before finalizing your decision."),r.a.createElement("span",{className:"banner__span"},"Are you sure"," ",r.a.createElement("span",{className:"banner__text banner__text--movie"},a)," ","isn't one of your favourite movies?")):null},_=function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"loader__orb"}),r.a.createElement("div",{className:"loader__orb"}),r.a.createElement("div",{className:"loader__orb"}))},h=function(e){var t=e.debouncer,a=e.loading;return r.a.createElement("section",{className:"search"},r.a.createElement("label",{htmlFor:"search",className:"search__label"},"Movie Title",r.a.createElement("input",{type:"search",className:"search__input",name:"search",onChange:t(),placeholder:"Search..."}),a?r.a.createElement("div",{className:"search__loader"},r.a.createElement(_,null)):null))},f=function(e){var t=e.className,a=e.clickHandler,n=void 0===a?function(){}:a,l=e.disabled,s=void 0!==l&&l,o=e.children;return r.a.createElement("button",{className:t,onClick:n,disabled:s},o)},N=function(e){var t=e.result,a=e.addNomination,n=e.disabled;return r.a.createElement("div",{className:"results__result",key:t.id},r.a.createElement("div",{className:"results__text-container"},r.a.createElement("p",{className:"results__text"},t.title," ",r.a.createElement("span",{className:"results__text--year"},"(",t.year,")")),r.a.createElement("p",{className:"results__text results__text--sub"},"Country: ",t.country),r.a.createElement("p",{className:"results__text results__text--sub"},"Genre: ",t.genre)),t.nominated?r.a.createElement(f,{className:"results__button results__button--nominated"},"Nominated!"):r.a.createElement(f,{className:"results__button",clickHandler:function(){return a(t)},disabled:n},"+ Add Movie"))},E=function(e){var t=e.searchTerm,a=e.searchResults,n=e.addNomination,l=e.noResults,s=e.disabled,o=a.map((function(e){return e?r.a.createElement(N,{result:e,addNomination:n,disabled:s}):r.a.createElement("div",{className:"results__result"},r.a.createElement("p",{className:"results__text"},"Loading..."))}));return r.a.createElement("section",{className:"results"},a.length<1?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"results__header-bar"},r.a.createElement("h3",{className:"results__heading"},"Results")),r.a.createElement("div",{className:"results__no-matches-container"},r.a.createElement("p",{className:"results__text"},l?"No matches":"Search for a movie"))):r.a.createElement("div",{className:"results__header-bar"},r.a.createElement("h3",{className:"results__heading"},"Results for"," ",r.a.createElement("span",{className:"results__text results__text--search"},'"',t,'"...'))),o)},p=function(e){var t=e.nomination,a=e.removeNomination;return r.a.createElement("div",{className:"nominations__nom",key:t.id},r.a.createElement("div",{className:"nominations__text-container"},r.a.createElement("p",{className:"nominations__text"},t.title," ",r.a.createElement("span",{className:"nominations__text--year"},"(",t.year,")"))),r.a.createElement(f,{className:"nominations__button",clickHandler:function(){return a(t)}},"- Remove Movie"))},b=function(e){var t=e.nominations,a=e.removeNomination,n=e.nomCount,l=t.map((function(e){return r.a.createElement(p,{nomination:e,removeNomination:a})}));return r.a.createElement("section",{className:"nominations"},r.a.createElement("div",{className:"nominations__header-bar"},r.a.createElement("h3",{className:"nominations__heading"},"Nominations"),r.a.createElement("p",{className:"nominations__countdown"},r.a.createElement("span",{className:"nominations__countdown nominations__countdown--accent"},n)," ",1===n?"nomination":"nominations"," left")),t.length<1?r.a.createElement("div",{className:"nominations__no-noms-container"},r.a.createElement("p",{className:"nominations__text"},"No nominations yet. Search for your favourite movie to get started!")):l)},v=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"footer__left-container"},r.a.createElement("p",{className:"footer__text"},"Application by ",r.a.createElement("br",{className:"footer__break"}),r.a.createElement("span",{className:"footer__text--emph"},"Jess Hilliam"),r.a.createElement("br",null),"for Shopify Internship Winter 2021"),r.a.createElement("div",{className:"footer__contact-links"},r.a.createElement("a",{href:"https://github.com/pupocalypse/shopify_challenge_shoppies",className:"footer__link",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("p",{className:"footer__text"},"GitHub"))," ","|"," ",r.a.createElement("a",{href:"https://www.linkedin.com/in/jess-hilliam/",className:"footer__link",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("p",{className:"footer__text"},"LinkedIn")))),r.a.createElement("div",{className:"footer__right-container"},r.a.createElement("p",{className:"footer__text"},r.a.createElement("span",{className:"footer__text--emph"},"Jess' Nominations:"),r.a.createElement("br",null),"Ace Ventura: When Nature Calls, A Knight's Tale, Little Miss Sunshine, Up, Zoolander")))},g=function(e){var t=e.scrollToTop;return r.a.createElement("button",{className:"scroll-button",onClick:t},r.a.createElement("i",{className:"fas fa-angle-up"}))},y=(a(40),"https://www.omdbapi.com/?apikey=".concat("a3d02416","&s=")),x="https://www.omdbapi.com?apikey=".concat("a3d02416","&i="),S=["Tropic Thunder","Clue","A Bug's Life","Little Miss Sunshine","Ordinary People","This Is Spinal Tap","Raging Bull","Shawshank Redemption","Dumb and Dumber","Saturday Night Fever","Monty Python and the Holy Grail"],k=function(){var e=document.documentElement,t=Object(n.useState)(null),a=Object(c.a)(t,2),l=a[0],s=a[1],i=Object(n.useState)([]),_=Object(c.a)(i,2),f=_[0],N=_[1],p=Object(n.useState)([]),k=Object(c.a)(p,2),O=k[0],T=k[1],j=Object(n.useState)(!1),w=Object(c.a)(j,2),I=w[0],C=w[1],M=Object(n.useState)(!1),R=Object(c.a)(M,2),J=R[0],A=R[1],G=Object(n.useState)(null),H=Object(c.a)(G,2),D=H[0],L=H[1],F=Object(n.useCallback)((function(){var e=S.filter((function(e){return!O.some((function(t){return t.title===e}))}));return e[Math.floor(Math.random()*e.length)]}),[O]),B=Object(n.useCallback)((function(){e.scrollTo({top:0,behavior:"smooth"})}),[e]);Object(n.useEffect)((function(){if(0===O.length){var e=JSON.parse(localStorage.getItem("nominations"));(null===e||void 0===e?void 0:e.length)>0&&T(e)}5===O.length?(L(F()),A(!0),B()):A(!1),localStorage.setItem("nominations",JSON.stringify(O))}),[O,B,D,F]);var P=function(e){e?(s(e),m.a.get("".concat(y).concat(e,"&type=movie")).then((function(e){var t;return e.data.Search&&(t=e.data.Search.reduce((function(e,t){var a=m.a.get("".concat(x).concat(t.imdbID));return e.push(a),e}),[])),Promise.all(t)})).then((function(e){var t=e.filter((function(e){return!1===e.data.Genre.includes("Short")&&"X"!==e.data.Genre})).map((function(e){var t=O.findIndex((function(t){return t.id===e.data.imdbID})),a={id:e.data.imdbID,title:e.data.Title,year:e.data.Year,country:e.data.Country,genre:e.data.Genre,nominated:!1};return-1!==t&&(a.nominated=!0),a}));N(t)})).catch((function(){N([])})).finally((function(){setTimeout((function(){C(!1)}),500)}))):(s(null),N([]),C(!1))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement("main",{className:"app"},r.a.createElement(d,{finished:J,nominations:O,randomMovie:D}),r.a.createElement(h,{debouncer:function(){var e,t;return function(a){e&&clearTimeout(e),C(!0),t=a.target.value,e=setTimeout((function(){P(t),e=null}),1e3)}},loading:I}),r.a.createElement(E,{searchTerm:l,searchResults:f,addNomination:function(e){5!==O.length&&(e.nominated=!0,T([].concat(Object(o.a)(O),[e])))},noResults:l&&0===f.length,disabled:O.length>=5}),r.a.createElement(b,{nominations:O,removeNomination:function(e){e.nominated=!1;var t=f.findIndex((function(t){return t.title===e.title}));-1!==t&&(f[t].nominated=!1);var a=O.filter((function(t){return t.title!==e.title}));0===a.length&&(a=[]),N(f),T(a),localStorage.setItem("nominations",JSON.stringify(a))},nomCount:5-O.length}),r.a.createElement(g,{scrollToTop:B})),r.a.createElement(v,null))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.e25f3845.chunk.js.map